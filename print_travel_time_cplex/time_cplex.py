def parse_path(path_str: str):
    """Return list of node ints from '0->1->11->...->' (ignores trailing arrow)."""
    parts = [p.strip() for p in path_str.split("->")]
    parts = [p for p in parts if p != ""]
    return [int(p) for p in parts]

def print_edge_times(path_nodes, adj, tmat):
    total = 0.0
    for u, v in zip(path_nodes, path_nodes[1:]):
        # basic validation
        if not (0 <= u < len(adj) and 0 <= v < len(adj)):
            raise ValueError(f"Node out of range in edge {u}->{v}")
        if adj[u][v] == 0:
            print(f"WARNING: {u}->{v} is not an edge in adjacency matrix (adj[u][v]=0).")

        t = tmat[u][v]
        print(f"{u} -> {v}: {t}")
        total += t
    return total

if __name__ == "__main__":
    path = "0->1->11->4->12->7->16->8->15->5->13->14->2->17"

    adj = [
        [0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [1,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0],
        [1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1],
        [0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,0],
        [0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,1,0,0],
        [0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0],
        [0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0],
        [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0],
        [0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0],
        [0,0,0,0,1,0,1,1,0,0,1,0,0,0,0,0,0,0],
        [0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0],
        [0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0],
        [0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0],
        [0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
    ]

    tmat = [
        [0.0,6.44,13.03,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
        [6.44,0.0,6.52,7.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,5.23,0.0,0.0,0.0,0.0,0.0,0.0],
        [13.03,6.52,0.0,6.74,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,10.31,0.0,0.0,6.44],
        [0.0,7.1,6.74,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,9.44,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,6.56,6.96,9.7,4.14,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,10.77,0.0,0.0,0.0,7.57,12.72,7.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,0.0,0.0,0.0,6.09,0.0,0.0,0.0,0.0,5.5,11.72,0.0,9.75,0.0,0.0],
        [0.0,0.0,0.0,0.0,0.0,0.0,6.09,0.0,9.84,0.0,0.0,0.0,6.78,0.0,0.0,0.0,5.63,0.0],
        [0.0,0.0,0.0,0.0,0.0,0.0,0.0,9.84,0.0,0.0,0.0,0.0,0.0,0.0,0.0,10.74,9.91,0.0],
        [0.0,0.0,0.0,0.0,0.0,10.77,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,6.56,0.0,0.0,0.0,0.0,0.0,0.0,7.6,10.28,0.0,0.0,0.0,0.0,0.0],
        [0.0,5.23,0.0,0.0,6.96,0.0,0.0,0.0,0.0,0.0,7.6,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,9.7,0.0,5.5,6.78,0.0,0.0,10.28,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,9.44,4.14,7.57,11.72,0.0,0.0,0.0,0.0,0.0,0.0,0.0,9.81,0.0,0.0,0.0],
        [0.0,0.0,10.31,0.0,0.0,12.72,0.0,0.0,0.0,0.0,0.0,0.0,0.0,9.81,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,0.0,7.0,9.75,0.0,10.74,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
        [0.0,0.0,0.0,0.0,0.0,0.0,0.0,5.63,9.91,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
        [0.0,0.0,6.44,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],
    ]

    nodes = parse_path(path)
    total_time = print_edge_times(nodes, adj, tmat)
    # If you want the total, uncomment:
    # print(f"Total travel time: {total_time}")
